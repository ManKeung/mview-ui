var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,i=(t,a,n)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,s=(e,t)=>{for(var a in t||(t={}))r.call(t,a)&&i(e,a,t[a]);if(n)for(var a of n(t))o.call(t,a)&&i(e,a,t[a]);return e};import{d as l,r as u,l as v,G as c,o as m,c as f,w as p,s as d,n as b,m as y,u as $,q as g,B as w,k as j}from"./index.1977e9bd.js";import{g as O,a as _}from"./m-status-bar.25face9c.js";import{_ as h}from"./plugin-vue_export-helper.21dcd24c.js";var k,E,S=(k=s({},O()),E={show:{type:Boolean,default:_("transition","show")},mode:{type:String,default:_("transition","mode")},duration:{type:[String,Number],default:_("transition","duration")},timingFunction:{type:String,default:_("transition","timingFunction")}},t(k,a(E)));var P=h(l({__name:"m-transition",props:S,emits:["click","beforeEnter","enter","afterEnter","beforeLeave","leave","afterLeave"],setup(e,{emit:t}){const a=e,n=u(null),r=u(!1),o=u(""),i=u(!1),l=u(!1),O=u(""),_=u({}),h=v((()=>s(s({transitionDuration:`${a.duration}ms`,transitionTimingFunction:a.timingFunction},uni.$m.addStyle(a.customStyle)),_)));function k(e){return{enter:`m-${e}-enter m-${e}-enter-active`,"enter-to":`m-${e}-enter-to m-${e}-enter-active`,leave:`m-${e}-leave m-${e}-leave-active`,"leave-to":`m-${e}-leave-to m-${e}-leave-active`}}c((()=>a.show),(e=>{e?function(){const e=k(a.mode);o.value="enter",t("beforeEnter"),r.value=!0,l.value=!0,O.value=e.enter,w((async()=>{await uni.$m.sleep(20),t("afterEnter"),i.value=!1,O.value=e["enter-to"]}))}():function(){if(!l.value)return;const e=k(a.mode);o.value="leave",t("beforeLeave"),O.value=e.leave,w((()=>{i.value=!1,setTimeout(S,a.duration),O.value=e["leave-to"]}))}()}),{immediate:!0});const E=()=>{t("click")};function S(){i.value||(i.value=!0,t("leave"===o.value?"afterLeave":"afterEnter"),!a.show&&l.value&&(l.value=!1,r.value=!1))}return(e,t)=>{const a=j;return r.value?(m(),f(a,{key:0,ref_key:"$transition",ref:n,class:b(["m-transition",O.value]),style:y([$(h)]),onClick:E,onTouchmove:e.$m.noop},{default:p((()=>[d(e.$slots,"default",{},void 0,!0)])),_:3},8,["class","style","onTouchmove"])):g("",!0)}}}),[["__scopeId","data-v-432918b4"]]);export{P as _};
//# sourceMappingURL=m-transition.dac3ee9a.js.map
