var e=Object.defineProperty,o=Object.defineProperties,t=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,p=(o,t,s)=>t in o?e(o,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[t]=s,n=(e,o)=>{for(var t in o||(o={}))r.call(o,t)&&p(e,t,o[t]);if(s)for(var t of s(o))a.call(o,t)&&p(e,t,o[t]);return e},l=(e,s)=>o(e,t(s));import{_ as u}from"./m-overlay.8c9d5019.js";import{d as c,r as i,x as m,o as d,c as y,q as f,n as b,k as g,l as v,g as _,h as $,w as h,p as k,a as O,m as I,H as w,s as S}from"./index.2180f076.js";import{_ as j,a as x}from"./m-icon.f652525a.js";import{_ as B}from"./plugin-vue_export-helper.21dcd24c.js";import{_ as C}from"./m-transition.54eea085.js";var z=B(c({props:n({},uni.$m.config.props),setup(e){const o=e,t=i(!1);m((()=>{}));const s=()=>n(n({},{}),uni.$m.addStyle(o.customStyle));return(e,o)=>{const r=g;return d(),y(r,{class:f(["m-safe-bottom",[!t.value&&"m-safe-area-inset-bottom"]]),style:b([s])},null,8,["style","class"])}}}),[["__scopeId","data-v-ecbbd5d4"]]);var P=B(c({props:l(n({},uni.$m.config.props),{show:{type:Boolean,default:uni.$m.props.popup.show},overlay:{type:Boolean,default:uni.$m.props.popup.overlay},mode:{type:String,default:uni.$m.props.popup.mode},duration:{type:[String,Number],default:uni.$m.props.popup.duration},closeable:{type:Boolean,default:uni.$m.props.popup.closeable},overlayStyle:{type:[Object,String],default:uni.$m.props.popup.overlayStyle},closeOnClickOverlay:{type:Boolean,default:uni.$m.props.popup.closeOnClickOverlay},zIndex:{type:[String,Number],default:uni.$m.props.popup.zIndex},safeAreaInsetBottom:{type:Boolean,default:uni.$m.props.popup.safeAreaInsetBottom},safeAreaInsetTop:{type:Boolean,default:uni.$m.props.popup.safeAreaInsetTop},closeIconPos:{type:String,default:uni.$m.props.popup.closeIconPos},round:{type:[Boolean,String,Number],default:uni.$m.props.popup.round},zoom:{type:Boolean,default:uni.$m.props.popup.zoom},bgColor:{type:String,default:uni.$m.props.popup.bgColor},overlayOpacity:{type:[Number,String],default:uni.$m.props.popup.overlayOpacity}}),emits:["close","open","click"],setup(e,{emit:o}){const t=e;i(null);const s=v((()=>{let e={zIndex:t.zIndex,position:"fixed",display:"flex"};switch(e[t.mode]=0,t.mode){case"left":case"right":e=uni.$m.deepMerge(e,{bottom:0,top:0});break;case"top":case"bottom":e=uni.$m.deepMerge(e,{left:0,right:0});break;case"center":e=uni.$m.deepMerge(e,{alignItems:"center","justify-content":"center",top:0,left:0,right:0,bottom:0})}return e})),r=v((()=>{const e={};if(uni.$m.sys(),"center"!==t.mode&&(e.flex=1),t.bgColor&&(e.backgroundColor=t.bgColor),t.round){const o=t.round+"px";switch(t.mode){case"top":e.borderBottomLeftRadius=o,e.borderBottomRightRadius=o;break;case"bottom":e.borderTopLeftRadius=o,e.borderTopRightRadius=o;break;case"center":e.borderRadius=o}}return n(l(n({},e),{zIndex:10080}),uni.$m.addStyle(t.customStyle))})),a=v((()=>{let e="";switch(t.mode){case"center":e=t.zoom?"fade-zoom":"fade";break;case"left":e="slide-left";break;case"right":e="slide-right";break;case"bottom":e="slide-up";break;case"top":e="slide-down"}return e})),p=()=>{t.closeOnClickOverlay&&o("close")},c=()=>{o("close")},m=()=>{o("open")},B=()=>{"center"===t.mode&&p(),o("click")};return(e,o)=>{const n=_($("m-overlay"),u),l=_($("m-status-bar"),j),i=_($("m-icon"),x),v=g,P=_($("m-safe-bottom"),z),A=_($("m-transition"),C);return d(),y(v,{class:"m-popup"},{default:h((()=>[t.overlay?(d(),y(n,{key:0,show:t.show,duration:t.duration,"custom-style":t.overlayStyle,opacity:t.overlayOpacity,onClick:p},null,8,["show","duration","custom-style","opacity"])):k("",!0),O(A,{show:t.show,mode:I(a),duration:t.duration,"custom-style":I(s),onAfterEnter:m,onClick:B},{default:h((()=>[O(v,{class:"m-popup__content",style:b([I(r)]),onClick:w(e.$m.noop,["stop"])},{default:h((()=>[t.safeAreaInsetTop?(d(),y(l,{key:0})):k("",!0),S(e.$slots,"default",{},void 0,!0),t.closeable?(d(),y(v,{key:1,class:f(["m-popup__content__close",["m-popup__content__close--"+e.closeIconPos]]),"hover-class":"m-popup__content__close--hover","hover-stay-time":"150",onClick:c},{default:h((()=>[O(i,{name:"close",color:"#909399",size:"18",bold:""})])),_:1},8,["class"])):k("",!0),t.safeAreaInsetBottom?(d(),y(P,{key:2})):k("",!0)])),_:3},8,["style","onClick"])])),_:3},8,["show","mode","duration","custom-style"])])),_:3})}}}),[["__scopeId","data-v-013414c0"]]);export{P as _};
//# sourceMappingURL=m-popup.d9f0644f.js.map
