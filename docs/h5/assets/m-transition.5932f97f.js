var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,i=(t,a,n)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[a]=n,s=(e,t)=>{for(var a in t||(t={}))r.call(t,a)&&i(e,a,t[a]);if(n)for(var a of n(t))o.call(t,a)&&i(e,a,t[a]);return e};import{d as l,r as u,l as v,E as c,o as m,c as p,w as f,s as d,q as y,n as $,m as b,p as g,C as w,k as O}from"./index.497973e8.js";import{_ as h}from"./plugin-vue_export-helper.21dcd24c.js";var j,E;var _=h(l({props:(j=s({},uni.$m.config.props),E={show:{type:Boolean,default:uni.$m.props.transition.show},mode:{type:String,default:uni.$m.props.transition.mode},duration:{type:[String,Number],default:uni.$m.props.transition.duration},timingFunction:{type:String,default:uni.$m.props.transition.timingFunction}},t(j,a(E))),emits:["click","beforeEnter","enter","afterEnter","beforeLeave","leave","afterLeave"],setup(e,{emit:t}){const a=e,n=u(null),r=u(!1),o=u(""),i=u(!1),l=u(!1),h=u(""),j=u({}),E=v((()=>s(s({transitionDuration:`${a.duration}ms`,transitionTimingFunction:a.timingFunction},uni.$m.addStyle(a.customStyle)),j)));function _(e){return{enter:`m-${e}-enter m-${e}-enter-active`,"enter-to":`m-${e}-enter-to m-${e}-enter-active`,leave:`m-${e}-leave m-${e}-leave-active`,"leave-to":`m-${e}-leave-to m-${e}-leave-active`}}c((()=>a.show),(e=>{e?function(){const e=_(a.mode);o.value="enter",t("beforeEnter"),r.value=!0,l.value=!0,h.value=e.enter,w((async()=>{await uni.$m.sleep(20),t("afterEnter"),i.value=!1,h.value=e["enter-to"]}))}():function(){if(!l.value)return;const e=_(a.mode);o.value="leave",t("beforeLeave"),h.value=e.leave,w((()=>{i.value=!1,setTimeout(S,a.duration),h.value=e["leave-to"]}))}()}),{immediate:!0});const k=()=>{t("click")};function S(){i.value||(i.value=!0,t("leave"===o.value?"afterLeave":"afterEnter"),!a.show&&l.value&&(l.value=!1,r.value=!1))}return(e,t)=>{const a=O;return r.value?(m(),p(a,{key:0,ref_key:"$transition",ref:n,class:y(["m-transition",h.value]),style:$([b(E)]),onClick:k,onTouchmove:e.$m.noop},{default:f((()=>[d(e.$slots,"default",{},void 0,!0)])),_:3},8,["class","style","onTouchmove"])):g("",!0)}}}),[["__scopeId","data-v-432918b4"]]);export{_};
//# sourceMappingURL=m-transition.5932f97f.js.map
