{"version":3,"file":"m-navbar.81e9e845.js","sources":["../../../../../uni_modules/mview-ui/components/m-icon/props.ts","../../../../../uni_modules/mview-ui/components/m-icon/m-icon.vue","../../../../../uni_modules/mview-ui/components/m-navbar/props.ts","../../../../../uni_modules/mview-ui/components/m-navbar/m-navbar.vue"],"sourcesContent":["import { getCommon, getDefault } from '../props'\n\nexport default {\n    ...getCommon(),\n    // 图标类名\n    name: {\n        type: String,\n        default: getDefault('icon', 'name')\n    },\n    // 图标颜色\n    color: {\n        type: String,\n        default: getDefault('icon', 'color')\n    },\n    // 字体大小，单位px\n    size: {\n        type: [String, Number],\n        default: getDefault('icon', 'size')\n    },\n    // 是否显示粗体\n    bold: {\n        type: Boolean,\n        default: getDefault('icon', 'bold')\n    },\n    // 是否阻止事件传播\n    stop: {\n        type: Boolean,\n        default: getDefault('icon', 'stop')\n    },\n    // 点击图标的时候传递事件出去的index（用于区分点击了哪一个）\n    index: {\n        type: [String, Number],\n        default: getDefault('icon', 'index')\n    }\n}\n","<template>\n    <view class=\"m-icon\" :class=\"name\" :style=\"style\" @click=\"handleClick\">\n\n    </view>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\nimport Props from './props'\n\nconst props = defineProps(Props)\nconst emits = defineEmits(['click'])\n\nconst name = computed(() => {\n    let cls = []\n    if (props.color && uni.$m.config.type.includes(props.color)) cls.push(`m-icon__icon--${props.color}`)\n\n    if (!props.name) return cls\n    cls.push('iconm')\n    cls.push(`m-${props.name}`)\n\n    return cls\n})\n\nconst style = computed(() => {\n    const style = {}\n\n    if (props.color && !uni.$m.config.type.includes(props.color)) style.color = props.color\n\n    style.fontSize = uni.$m.addUnit(props.size)\n    style.lineHeight = uni.$m.addUnit(props.size)\n    style.fontWeight = props.bold ? 'bold' : 'normal'\n\n    return {\n        ...style,\n        ...uni.$m.addStyle(props.customStyle)\n    }\n})\n\nconst handleClick = (e) => {\n    if (props.stop) uni.$m.noop(e)\n    emits('click', props.index)\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../../libs/css/components.scss\";\n\n// 变量定义\n$m-icon-primary: $m-primary !default;\n$m-icon-success: $m-success !default;\n$m-icon-info: $m-info !default;\n$m-icon-warning: $m-warning !default;\n$m-icon-error: $m-error !default;\n$m-icon-label-line-height: 1 !default;\n\n/* #ifndef APP-NVUE */\n// 非nvue下加载字体\n// @font-face {\n//     font-family: '';\n//     src: url('') format('truetype');\n// }\n/* #endif */\n\n.m-icon {\n    /* #ifndef APP-NVUE */\n    display: flex;\n    /* #endif */\n    align-items: center;\n\n    &__icon {\n        @include flex;\n        align-items: center;\n\n        &--primary {\n            color: $m-icon-primary;\n        }\n\n        &--success {\n            color: $m-icon-success;\n        }\n\n        &--error {\n            color: $m-icon-error;\n        }\n\n        &--warning {\n            color: $m-icon-warning;\n        }\n\n        &--info {\n            color: $m-icon-info;\n        }\n    }\n}\n</style>\n","import { getDefault } from '../props'\n\nexport default {\n    // 是否开启顶部安全区适配\n    safeAreaInsetTop: {\n        type: Boolean,\n        default: getDefault('navbar', 'safeAreaInsetTop')\n    },\n    // 固定在顶部时，是否生成一个等高元素，以防止塌陷\n    placeholder: {\n        type: Boolean,\n        default: getDefault('navbar', 'placeholder')\n    },\n    // 是否固定在顶部\n    fixed: {\n        type: Boolean,\n        default: getDefault('navbar', 'fixed')\n    },\n    // 是否显示下边框\n    border: {\n        type: Boolean,\n        default: getDefault('navbar', 'border')\n    },\n    // 左边的图标\n    leftIcon: {\n        type: String,\n        default: getDefault('navbar', 'leftIcon')\n    },\n    // 左边的提示文字\n    leftText: {\n        type: String,\n        default: getDefault('navbar', 'leftText')\n    },\n    // 左右的提示文字\n    rightText: {\n        type: String,\n        default: getDefault('navbar', 'rightText')\n    },\n    // 右边的图标\n    rightIcon: {\n        type: String,\n        default: getDefault('navbar', 'rightIcon')\n    },\n    // 标题\n    title: {\n        type: [String, Number],\n        default: getDefault('navbar', 'title')\n    },\n    // 背景颜色\n    bgColor: {\n        type: String,\n        default: getDefault('navbar', 'bgColor')\n    },\n    // 标题的宽度\n    titleWidth: {\n        type: [String, Number],\n        default: getDefault('navbar', 'titleWidth')\n    },\n    // 导航栏高度\n    height: {\n        type: [String, Number],\n        default: getDefault('navbar', 'height')\n    },\n    // 左侧返回图标的大小\n    leftIconSize: {\n        type: [String, Number],\n        default: getDefault('navbar', 'leftIconSize')\n    },\n    // 左侧返回图标的颜色\n    leftIconColor: {\n        type: String,\n        default: getDefault('navbar', 'leftIconColor')\n    },\n    // 点击左侧区域(返回图标)，是否自动返回上一页\n    autoBack: {\n        type: Boolean,\n        default: getDefault('navbar', 'autoBack')\n    },\n    // title样式\n    titleStyle: {\n        type: [Object, String],\n        default: getDefault('navbar', 'titleStyle')\n    }\n}\n","<template>\n    <view class=\"m-navbar\">\n        <view v-if=\"props.fixed && props.placeholder\" :style=\"placeholderStyle\" class=\"m-navbar__placeholder\"></view>\n        <view :class=\"[props.fixed && 'm-navbar--fixed']\">\n            <m-status-bar v-if=\"props.safeAreaInsetTop\" :bac=\"props.bgColor\"></m-status-bar>\n            <view class=\"m-navbar__content\" :class=\"[props.border && 'm-border-bottom']\" :style=\"contentStyle\">\n                <view\n                    class=\"m-navbar__content__left\"\n                    hover-class=\"m-navbar__content__left--hover\"\n                    hover-start-time=\"150\"\n                    @tap=\"handleLeft\"\n                    :style=\"padType('left')\"\n                >\n                    <slot name=\"left\">\n                        <m-icon v-if=\"props.leftIcon\" :name=\"props.leftIcon\" :size=\"props.leftIconSize\" :color=\"props.leftIconColor\"></m-icon>\n                        <text v-if=\"props.leftText\" :style=\"{color: props.leftIconColor}\" class=\"m-navbar__content__left__text\"> {{ props.leftText }}</text>\n                    </slot>\n                </view>\n                <slot name=\"center\">\n                    <text class=\"m-line-1 m-navbar__content__title\" :style=\"[{width: $m.addUnit(props.titleWidth)}, $m.addStyle(props.titleStyle)]\">{{ props.title }}</text>\n                </slot>\n                <view v-if=\"$slots.right || props.rightIcon || props.rightText\" class=\"m-navbar__content__right\" hover-class=\"m-navbar__content__right--hover\" @click=\"handleRight\" :style=\"padType('right')\">\n                    <m-icon v-if=\"props.rightIcon\" :name=\"props.rightIcon\" size=\"20\"></m-icon>\n                    <text v-if=\"props.rightText\" class=\"m-navbar__content__right__text\">{{ props.rightText }}</text>\n                </view>\n            </view>\n        </view>\n    </view>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, useSlots } from 'vue'\nimport Props from './props'\n\nconst props = defineProps(Props)\nconst emits = defineEmits(['leftClick', 'rightClick'])\nconst $slots = useSlots()\n\nconst handleLeft = () => {\n    emits('leftClick')\n\n    props.autoBack && uni.navigateBack()\n}\n\nconst handleRight = () => {\n    emits('rightClick')\n}\n\nconst placeholderStyle = computed(() => {\n    // #ifdef MP\n    return {\n       height:  uni.$m.addUnit(uni.$m.sys().customBar ?? 40)\n    }\n    // #endif\n    const height = Number.parseFloat(props.height) + uni.$m.sys().statusBarHeight\n\n    return {\n        height: uni.$m.addUnit(height)\n    }\n})\n\nconst contentStyle = computed(() => {\n\n    // #ifdef MP\n    const { customBar = 0, statusBarHeight = 0} = uni.$m.sys() ?? {}\n    return {\n        height: uni.$m.addUnit(customBar - statusBarHeight),\n        backgroundColor: props.bgColor\n    }\n    // #endif\n\n    return {\n        height: uni.$m.addUnit(props.height),\n        backgroundColor: props.bgColor\n    }\n})\n\nconst padType = computed(() => {\n    return (type = 'left') => {\n        const { pad = 0, width = 0 } = uni.$m.sys().mpW ?? {}\n\n        // #ifdef MP\n        if (type === 'left') return {\n            paddingLeft: uni.$m.addUnit(pad)\n        }\n\n        if (type === 'right') return {\n            paddingRight: uni.$m.addUnit(pad * 2 + width)\n        }\n        // #endif\n\n        return {}\n    }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../../libs/css/components.scss\";\n\n.m-navbar {\n\n    &--fixed {\n        position: fixed;\n        left: 0;\n        right: 0;\n        top: 0;\n        z-index: 11;\n    }\n\n    &__content {\n        @include flex(row);\n        align-items: center;\n        height: 44px;\n        background-color: #9acafc;\n        position: relative;\n        justify-content: center;\n\n        &__left,\n        &__right {\n            /* #ifndef MP */\n            padding: 0 13px;\n            /* #endif */\n            /* #ifdef MP */\n            padding: 0;\n            /* #endif */\n            position: absolute;\n            top: 0;\n            bottom: 0;\n            @include flex(row);\n            align-items: center;\n        }\n\n        &__left {\n            left: 0;\n\n            &--hover {\n                opacity: 0.7;\n            }\n\n            &__text {\n                font-size: 15px;\n                margin-left: 3px;\n            }\n        }\n\n        &__title {\n            text-align: center;\n            font-size: 16px;\n            color: $m-main-color;\n        }\n\n        &__right {\n            right: 0;\n\n            &--hover {\n                opacity: 0.7;\n            }\n\n            &__txet {\n                font-size: 15px;\n                margin-left: 3px;\n            }\n        }\n    }\n}\n</style>\n"],"names":["getCommon","name","type","String","default","getDefault","color","size","Number","bold","Boolean","stop","index","computed","cls","props","uni","$m","config","includes","push","style","style2","fontSize","addUnit","lineHeight","fontWeight","__spreadValues","addStyle","customStyle","handleClick","e","noop","safeAreaInsetTop","placeholder","fixed","border","leftIcon","leftText","rightText","rightIcon","title","bgColor","titleWidth","height","leftIconSize","leftIconColor","autoBack","titleStyle","Object","$slots","useSlots","handleLeft","uni.navigateBack","handleRight","placeholderStyle","parseFloat","sys","statusBarHeight","contentStyle","backgroundColor","padType","mpW"],"mappings":"wqBAEA,kBACOA,OADQ,CAGXC,KAAM,CACFC,KAAMC,OACNC,QAASC,EAAW,OAAQ,SAGhCC,MAAO,CACHJ,KAAMC,OACNC,QAASC,EAAW,OAAQ,UAGhCE,KAAM,CACFL,KAAM,CAACC,OAAQK,QACfJ,QAASC,EAAW,OAAQ,SAGhCI,KAAM,CACFP,KAAMQ,QACNN,QAASC,EAAW,OAAQ,SAGhCM,KAAM,CACFT,KAAMQ,QACNN,QAASC,EAAW,OAAQ,SAGhCO,MAAO,CACHV,KAAM,CAACC,OAAQK,QACfJ,QAASC,EAAW,OAAQ,qGCnB9BJ,EAAOY,GAAS,SACdC,EAAM,UACNC,EAAMT,OAASU,IAAIC,GAAGC,OAAOhB,KAAKiB,SAASJ,EAAMT,UAAYc,KAAK,iBAAiBL,EAAMT,SAExFS,EAAMd,QACPmB,KAAK,WACLA,KAAK,KAAKL,EAAMd,QAEba,GAJiBA,KAOtBO,EAAQR,GAAS,WACbS,EAAQ,UAEVP,EAAMT,QAAUU,IAAIC,GAAGC,OAAOhB,KAAKiB,SAASJ,EAAMT,WAAcA,MAAQS,EAAMT,SAE5EiB,SAAWP,IAAIC,GAAGO,QAAQT,EAAMR,QAChCkB,WAAaT,IAAIC,GAAGO,QAAQT,EAAMR,QAClCmB,WAAaX,EAAMN,KAAO,OAAS,SAElCkB,OACAL,GACAN,IAAIC,GAAGW,SAASb,EAAMc,iBAI3BC,EAAeC,IACbhB,EAAMJ,UAAUM,GAAGe,KAAKD,KACtB,QAAShB,EAAMH,qKCvCV,CAEXqB,iBAAkB,CACd/B,KAAMQ,QACNN,QAASC,EAAW,SAAU,qBAGlC6B,YAAa,CACThC,KAAMQ,QACNN,QAASC,EAAW,SAAU,gBAGlC8B,MAAO,CACHjC,KAAMQ,QACNN,QAASC,EAAW,SAAU,UAGlC+B,OAAQ,CACJlC,KAAMQ,QACNN,QAASC,EAAW,SAAU,WAGlCgC,SAAU,CACNnC,KAAMC,OACNC,QAASC,EAAW,SAAU,aAGlCiC,SAAU,CACNpC,KAAMC,OACNC,QAASC,EAAW,SAAU,aAGlCkC,UAAW,CACPrC,KAAMC,OACNC,QAASC,EAAW,SAAU,cAGlCmC,UAAW,CACPtC,KAAMC,OACNC,QAASC,EAAW,SAAU,cAGlCoC,MAAO,CACHvC,KAAM,CAACC,OAAQK,QACfJ,QAASC,EAAW,SAAU,UAGlCqC,QAAS,CACLxC,KAAMC,OACNC,QAASC,EAAW,SAAU,YAGlCsC,WAAY,CACRzC,KAAM,CAACC,OAAQK,QACfJ,QAASC,EAAW,SAAU,eAGlCuC,OAAQ,CACJ1C,KAAM,CAACC,OAAQK,QACfJ,QAASC,EAAW,SAAU,WAGlCwC,aAAc,CACV3C,KAAM,CAACC,OAAQK,QACfJ,QAASC,EAAW,SAAU,iBAGlCyC,cAAe,CACX5C,KAAMC,OACNC,QAASC,EAAW,SAAU,kBAGlC0C,SAAU,CACN7C,KAAMQ,QACNN,QAASC,EAAW,SAAU,aAGlC2C,WAAY,CACR9C,KAAM,CAAC+C,OAAQ9C,QACfC,QAASC,EAAW,SAAU,kHC7ChC6C,EAASC,IAETC,EAAa,OACT,eAEAL,UAAYM,KAGhBC,EAAc,OACV,eAGJC,EAAmB1C,GAAS,WAMxB+B,EAASpC,OAAOgD,WAAWzC,EAAM6B,QAAU5B,IAAIC,GAAGwC,MAAMC,sBAEvD,CACHd,OAAQ5B,IAAIC,GAAGO,QAAQoB,OAIzBe,EAAe9C,GAAS,KAUnB,CACH+B,OAAQ5B,IAAIC,GAAGO,QAAQT,EAAM6B,QAC7BgB,gBAAiB7C,EAAM2B,YAIzBmB,EAAUhD,GAAS,IACd,CAACX,EAAO,cACwBe,GAAGwC,MAAMK,IAYrC"}