{"version":3,"file":"pages-loadMore-loadMore.3d945621.js","sources":["../../../../../uni_modules/mview-ui/components/m-loadmore/props.ts","../../../../../uni_modules/mview-ui/components/m-loadmore/m-loadmore.vue","../../../../../pages/loadMore/loadMore.vue"],"sourcesContent":["import { getCommon, getDefault } from '../props'\n\nexport default {\n    ...getCommon(),\n    // 组件状态，loadmore-加载前的状态，loading-加载中的状态，nomore-没有更多的状态\n    status: {\n        type: String,\n        default: getDefault('loadmore', 'status')\n    },\n    // 组件背景色\n    bgColor: {\n        type: String,\n        default: getDefault('loadmore', 'bgColor')\n    },\n    // 是否显示加载中的图标\n    icon: {\n        type: Boolean,\n        default: getDefault('loadmore', 'icon')\n    },\n    // 字体大小\n    fontSize: {\n        type: [String, Number],\n        default: getDefault('loadmore', 'fontSize')\n    },\n    // 字体颜色\n    color: {\n        type: String,\n        default: getDefault('loadmore', 'color')\n    },\n\n    // 加载中状态的图标，spinner-花朵状图标，circle-圆圈状，semicircle-半圆\n    loadingIcon: {\n        type: String,\n        default: getDefault('loadmore', 'loadingIcon')\n    },\n    // 加载前的提示语\n    loadmoreText: {\n        type: String,\n        default: getDefault('loadmore', 'loadmoreText')\n    },\n    // 加载中提示语\n    loadingText: {\n        type: String,\n        default: getDefault('loadmore', 'loadingText')\n    },\n    // 没有更多的提示语\n    nomoreText: {\n        type: String,\n        default: getDefault('loadmore', 'nomoreText')\n    },\n    // 在“没有更多”状态下，是否显示粗点\n    isDot: {\n        type: Boolean,\n        default: getDefault('loadmore', 'isDot')\n    },\n    // 加载中图标的颜色\n    iconColor: {\n        type: String,\n        default: getDefault('loadmore', 'iconColor')\n    },\n    // 图标大小\n    iconSize: {\n        type: String,\n        default: getDefault('loadmore', 'iconSize')\n    },\n    // 上边距\n    marginTop: {\n        type: [String, Number],\n        default: getDefault('loadmore', 'marginTop')\n    },\n    // 下边距\n    marginBottom: {\n        type: [String, Number],\n        default: getDefault('loadmore', 'marginBottom')\n    },\n    // 高度，单位px\n    height: {\n        type: [String, Number],\n        default: getDefault('loadmore', 'height')\n    },\n    // 是否显示左边分割线\n    line: {\n        type: Boolean,\n        default: getDefault('loadmore', 'line')\n    }\n}\n","<template>\n    <view class=\"m-loadmore\" :style=\"customStyle\">\n        <m-line\n            length=\"140rpx\"\n            color=\"#E6E8EB\"\n            :hairline=\"false\"\n            v-if=\"props.line\"\n        ></m-line>\n        <!-- 加载中和没有更多的状态才显示两边的横线 -->\n            <view\n                :class=\"props.status == 'loadmore' || props.status == 'nomore' ? 'm-more' : ''\"\n                class=\"m-loadmore__content\"\n            >\n                <view\n                    class=\"m-loadmore__content__icon-wrap\"\n                    v-if=\"props.status === 'loading' && props.icon\"\n                >\n                    <m-loading-icon\n                        :color=\"props.iconColor\"\n                        :size=\"props.iconSize\"\n                        :mode=\"props.loadingIcon\"\n                    ></m-loading-icon>\n                </view>\n                <!-- 如果没有更多的状态下，显示内容为dot（粗点），加载特定样式 -->\n                <text\n                    class=\"m-line-1\"\n                    :style=\"[loadTextStyle]\"\n                    :class=\"[(props.status == 'nomore' && props.isDot == true) ? 'm-loadmore__content__dot-text' : 'm-loadmore__content__text']\"\n                    @tap=\"loadMore\"\n                >{{ showText }}</text>\n            </view>\n        <m-line\n            length=\"140rpx\"\n            color=\"#E6E8EB\"\n            :hairline=\"false\"\n            v-if=\"props.line\"\n        ></m-line>\n    </view>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\nimport Props from './props'\n\nconst props = defineProps(Props)\nconst emits = defineEmits(['loadmore'])\n\nconst customStyle = computed(() => {\n    return uni.$m.addStyle({\n        backgroundColor: props.bgColor,\n        marginBottom: uni.$m.addUnit(props.marginBottom),\n        marginTop: uni.$m.addUnit(props.marginTop),\n        height: uni.$m.addUnit(props.height),\n    })\n})\n\nconst loadTextStyle = computed(() => {\n    return {\n        color: props.color,\n        fontSize: uni.$m.addUnit(props.fontSize),\n        lineHeight: uni.$m.addUnit(props.fontSize),\n        backgroundColor: props.bgColor,\n    }\n})\n\nconst showText = computed(() => {\n    let text = ''\n\n    switch (props.status){\n        case 'loadmore':\n            text = props.loadmoreText\n            break\n        case 'loading':\n            text = props.loadingText\n            break\n        case 'nomore':\n            text = props.isDot ? '●' : props.nomoreText\n            break\n    }\n\n    return text\n})\n\nconst loadMore = () => {\n    if (props.status === 'loadmore') emits('loadmore')\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../../libs/css/components.scss\";\n\n.m-loadmore {\n    @include flex(row);\n    align-items: center;\n    justify-content: center;\n    flex: 1;\n\n    &__content {\n        margin: 0 15px;\n        @include flex(row);\n        align-items: center;\n        justify-content: center;\n\n        &__icon-wrap {\n            margin-right: 8px;\n        }\n\n        &__text {\n            font-size: 14px;\n            color: $m-content-color;\n        }\n\n        &__dot-text {\n            font-size: 15px;\n            color: $m-tips-color;\n        }\n    }\n}\n</style>\n","<template>\n    <view class=\"page\">\n        <m-common title=\"加载更多\" />\n        <view class=\"txt\">\n            基本使用\n        </view>\n        <m-loadmore\n            status=\"loadmore\"\n        />\n        <view class=\"txt\">\n            加载中\n        </view>\n        <m-loadmore\n            status=\"loading\"\n            line\n        />\n        <view class=\"txt\">\n            没有更多\n        </view>\n        <m-loadmore\n            status=\"nomore\"\n            line\n        />\n        <view class=\"txt\">\n            自定义图标\n        </view>\n        <m-loadmore\n            status=\"loading\"\n            loading-icon=\"circle\"\n            line\n        />\n        <view class=\"txt\">\n            显示点\n        </view>\n        <m-loadmore\n            status=\"nomore\"\n            is-dot\n            line\n        />\n        <view class=\"txt\">\n            自定义提示语\n        </view>\n        <m-loadmore\n            status=\"nomore\"\n            line\n            nomore-text=\"数据空空~\"\n        />\n    </view>\n</template>\n\n<script>\nexport default {\n    data() {\n        return {\n\n        }\n    },\n    methods: {\n\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.page {\n    padding: $m-pad;\n\n    .txt {\n        font-size: 14px;\n        color: #8f9ca2;\n        padding: 10px 0;\n    }\n}\n</style>\n"],"names":["getCommon","status","type","String","default","getDefault","bgColor","icon","Boolean","fontSize","Number","color","loadingIcon","loadmoreText","loadingText","nomoreText","isDot","iconColor","iconSize","marginTop","marginBottom","height","line","customStyle","computed","uni","$m","addStyle","backgroundColor","props","addUnit","loadTextStyle","lineHeight","showText","text","loadMore2","data","methods","_createBlock","_component_v_uni_view","class","_createVNode","_component_m_common","title","_component_m_loadmore"],"mappings":"4rBAEA,oIACOA,OADQ,CAGXC,OAAQ,CACJC,KAAMC,OACNC,QAASC,EAAW,WAAY,WAGpCC,QAAS,CACLJ,KAAMC,OACNC,QAASC,EAAW,WAAY,YAGpCE,KAAM,CACFL,KAAMM,QACNJ,QAASC,EAAW,WAAY,SAGpCI,SAAU,CACNP,KAAM,CAACC,OAAQO,QACfN,QAASC,EAAW,WAAY,aAGpCM,MAAO,CACHT,KAAMC,OACNC,QAASC,EAAW,WAAY,UAIpCO,YAAa,CACTV,KAAMC,OACNC,QAASC,EAAW,WAAY,gBAGpCQ,aAAc,CACVX,KAAMC,OACNC,QAASC,EAAW,WAAY,iBAGpCS,YAAa,CACTZ,KAAMC,OACNC,QAASC,EAAW,WAAY,gBAGpCU,WAAY,CACRb,KAAMC,OACNC,QAASC,EAAW,WAAY,eAGpCW,MAAO,CACHd,KAAMM,QACNJ,QAASC,EAAW,WAAY,UAGpCY,UAAW,CACPf,KAAMC,OACNC,QAASC,EAAW,WAAY,cAGpCa,SAAU,CACNhB,KAAMC,OACNC,QAASC,EAAW,WAAY,aAGpCc,UAAW,CACPjB,KAAM,CAACC,OAAQO,QACfN,QAASC,EAAW,WAAY,cAGpCe,aAAc,CACVlB,KAAM,CAACC,OAAQO,QACfN,QAASC,EAAW,WAAY,iBAGpCgB,OAAQ,CACJnB,KAAM,CAACC,OAAQO,QACfN,QAASC,EAAW,WAAY,WAGpCiB,KAAM,CACFpB,KAAMM,QACNJ,QAASC,EAAW,WAAY,2GCpClCkB,EAAcC,GAAS,IAClBC,IAAIC,GAAGC,SAAS,CACnBC,gBAAiBC,EAAMvB,QACvBc,aAAcK,IAAIC,GAAGI,QAAQD,EAAMT,cACnCD,UAAWM,IAAIC,GAAGI,QAAQD,EAAMV,WAChCE,OAAQI,IAAIC,GAAGI,QAAQD,EAAMR,YAI/BU,EAAgBP,GAAS,KACpB,CACHb,MAAOkB,EAAMlB,MACbF,SAAUgB,IAAIC,GAAGI,QAAQD,EAAMpB,UAC/BuB,WAAYP,IAAIC,GAAGI,QAAQD,EAAMpB,UACjCmB,gBAAiBC,EAAMvB,YAIzB2B,EAAWT,GAAS,SAClBU,EAAO,UAEHL,EAAM5B,YACL,aACM4B,EAAMhB,uBAEZ,YACMgB,EAAMf,sBAEZ,WACMe,EAAMb,MAAQ,IAAMa,EAAMd,kBAIlCmB,KAGLC,EAAW,KACQ,aAAjBN,EAAM5B,UAA6B,i6BChCvCmC,UACW,IAIXC,QAAS,sGAxDTC,EA8COC,GA9CDC,MAAM,oBACR,KAAAC,EAAyBC,GAAfC,MAAM,SAChBF,EAEOF,GAFDC,MAAM,mBAAM,OAAA,mBAGlBC,EAEEG,GADE3C,OAAO,aAEXwC,EAEOF,GAFDC,MAAM,mBAAM,OAAA,kBAGlBC,EAGEG,GAFE3C,OAAO,UACPqB,KAAA,KAEJmB,EAEOF,GAFDC,MAAM,mBAAM,OAAA,mBAGlBC,EAGEG,GAFE3C,OAAO,SACPqB,KAAA,KAEJmB,EAEOF,GAFDC,MAAM,mBAAM,OAAA,oBAGlBC,EAIEG,GAHE3C,OAAO,UACP,eAAa,SACbqB,KAAA,KAEJmB,EAEOF,GAFDC,MAAM,mBAAM,OAAA,kBAGlBC,EAIEG,GAHE3C,OAAO,SACP,SAAA,GACAqB,KAAA,KAEJmB,EAEOF,GAFDC,MAAM,mBAAM,OAAA,qBAGlBC,EAIEG,GAHE3C,OAAO,SACPqB,KAAA,GACA,cAAY"}