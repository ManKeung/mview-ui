var e=Object.defineProperty,t=Object.defineProperties,o=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,u=(t,o,l)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[o]=l;import{_ as d}from"./m-common.ee96b85b.js";import{d as r,r as s,l as i,E as p,o as m,c,w as b,e as f,f as g,n as y,m as h,b as v,t as _,p as x,F as $,a as I,C as S,k as V,j,I as z,g as B,h as U}from"./index.497973e8.js";import{_ as k}from"./plugin-vue_export-helper.21dcd24c.js";import"./m-navbar.8365f9ea.js";import"./m-icon.1f5d0484.js";var O,R,w=(O=((e,t)=>{for(var o in t||(t={}))a.call(t,o)&&u(e,o,t[o]);if(l)for(var o of l(t))n.call(t,o)&&u(e,o,t[o]);return e})({},uni.$m.config.props),R={adjustPosition:{type:Boolean,default:uni.$m.props.codeInput.adjustPosition},maxlength:{type:[String,Number],default:uni.$m.props.codeInput.maxlength},dot:{type:Boolean,default:uni.$m.props.codeInput.dot},mode:{type:String,default:uni.$m.props.codeInput.mode},hairline:{type:Boolean,default:uni.$m.props.codeInput.hairline},space:{type:[String,Number],default:uni.$m.props.codeInput.space},value:{type:[String,Number],default:uni.$m.props.codeInput.value},focus:{type:Boolean,default:uni.$m.props.codeInput.focus},bold:{type:Boolean,default:uni.$m.props.codeInput.bold},color:{type:String,default:uni.$m.props.codeInput.color},fontSize:{type:[String,Number],default:uni.$m.props.codeInput.fontSize},size:{type:[String,Number],default:uni.$m.props.codeInput.size},disabledKeyboard:{type:Boolean,default:uni.$m.props.codeInput.disabledKeyboard},borderColor:{type:String,default:uni.$m.props.codeInput.borderColor},disabledDot:{type:Boolean,default:uni.$m.props.codeInput.disabledDot},modelValue:{type:String,default:uni.$m.props.codeInput.value}},t(O,o(R)));var C=k(r({props:w,emits:["change","update:modelValue","finish"],setup(e,{emit:t}){const o=e,l=s(""),a=s(o.focus),n=i((()=>new Array(Number(o.maxlength))));p((()=>o.modelValue),(e=>{l.value=String(e).substring(0,o.maxlength)}),{immediate:!0});const u=i((()=>e=>{const t={width:uni.$m.addUnit(o.size),height:uni.$m.addUnit(o.size)};return"box"===o.mode&&(t.border=`${o.hairline?.5:1}px solid ${o.borderColor}`),0===Number(o.space)&&(0===e&&(t.borderTopLeftRadius="3px",t.borderBottomLeftRadius="3px"),e===n.value.length-1&&(t.borderTopRightRadius="3px",t.borderBottomRightRadius="3px"),e!==n.value.length-1&&(t.borderRight="none")),e!==n.value.length-1?t.marginRight=uni.$m.addUnit(o.space):t.marginRight=0,t})),d=i((()=>String(l.value).split(""))),r=i((()=>{const e={};return e.height=o.hairline?"2px":"4px",e.width=uni.$m.addUnit(o.size),e.backgroundColor=o.borderColor,e})),B=i((()=>({fontSize:uni.$m.addUnit(o.fontSize),fontWeight:o.bold?"bold":"normal",color:o.color}))),U=i((()=>({height:uni.$m.addUnit(o.size)}))),k=e=>{const a=e.detail.value;l.value=a,o.disabledDot&&S((()=>{l.value=a.replace(".","")})),t("change",a),t("update:modelValue",a),String(a).length>=Number(o.maxlength)&&t("finish",a)};return(e,t)=>{const l=V,s=j,i=z;return m(),c(l,{class:"m-code-input"},{default:b((()=>[(m(!0),f($,null,g(h(n),((t,n)=>(m(),c(l,{class:"m-code-input__item",style:y([h(u)(n)]),key:n},{default:b((()=>[o.dot&&h(d).length>n?(m(),c(l,{key:0,class:"m-code-input__item__dot",style:y({backgroundColor:o.color})},null,8,["style"])):(m(),c(s,{key:1,style:y(h(B))},{default:b((()=>[v(_(h(d)[n]),1)])),_:2},1032,["style"])),"line"===o.mode?(m(),c(l,{key:2,class:"m-code-input__item__line",style:y([h(r)])},null,8,["style"])):x("",!0),a.value&&h(d).length===n?(m(),c(l,{key:3,style:y({backgroundColor:e.color}),class:"m-code-input__item__cursor"},null,8,["style"])):x("",!0)])),_:2},1032,["style"])))),128)),I(i,{class:"m-code-input__input",type:"number",focus:o.focus,maxlength:o.maxlength,disabled:o.disabledKeyboard,style:y(h(U)),onInput:k,onFocus:t[0]||(t[0]=e=>a.value=!0),onBlur:t[1]||(t[1]=e=>a.value=!1)},null,8,["focus","maxlength","disabled","style"])])),_:1})}}}),[["__scopeId","data-v-4e81ae36"]]);var N=k(r({setup(e){const t=s(""),o=s(""),l=s(""),a=s("");return(e,n)=>{const u=B(U("m-common"),d),r=V,s=B(U("m-code-input"),C);return m(),c(r,{class:"page"},{default:b((()=>[I(u,{title:"验证码输入"}),I(r,{class:"txt"},{default:b((()=>[v(" 基本使用 ")])),_:1}),I(s,{modelValue:t.value,"onUpdate:modelValue":n[0]||(n[0]=e=>t.value=e)},null,8,["modelValue"]),I(r,{class:"txt"},{default:b((()=>[v(" 横向模式 ")])),_:1}),I(s,{modelValue:o.value,"onUpdate:modelValue":n[1]||(n[1]=e=>o.value=e),mode:"line"},null,8,["modelValue"]),I(r,{class:"txt"},{default:b((()=>[v(" 设置长度 ")])),_:1}),I(s,{modelValue:l.value,"onUpdate:modelValue":n[2]||(n[2]=e=>l.value=e),maxlength:"4"},null,8,["modelValue"]),I(r,{class:"txt"},{default:b((()=>[v(' 用"●"替代输入内容 ')])),_:1}),I(s,{modelValue:a.value,"onUpdate:modelValue":n[3]||(n[3]=e=>a.value=e),maxlength:"4",dot:""},null,8,["modelValue"])])),_:1})}}}),[["__scopeId","data-v-a899dd34"]]);export{N as default};
//# sourceMappingURL=pages-codeInput-codeInput.4ef88902.js.map
